/*******************************************************************************
 * Light / Dark themes via CSS custom properties
 ******************************************************************************/
@use "variables" as v;

:root {
  color-scheme: light;
  --global-bg-color: #{v.$white-color};
  --global-code-bg-color: #{v.$code-bg-color-light};
  --global-text-color: #{v.$black-color};
  --global-text-color-light: #{v.$grey-color};
  --global-theme-color: #{v.$purple-color};
  --global-hover-color: #{v.$purple-color};
  --global-footer-bg-color: #{v.$grey-color-dark};
  --global-footer-text-color: #{v.$grey-color-light};
  --global-footer-link-color: #{v.$white-color};
  --global-distill-app-color: #{v.$grey-color};
  --global-divider-color: rgba(0, 0, 0, 0.1);
  --global-card-bg-color: #{v.$white-color};
}

html[data-theme="dark"] {
  color-scheme: dark;
  --global-bg-color: #{v.$grey-color-dark};
  --global-code-bg-color: #{v.$code-bg-color-dark};
  --global-text-color: #{v.$grey-color-light};
  --global-text-color-light: #{v.$grey-color};
  --global-theme-color: #{v.$cyan-color};
  --global-hover-color: #{v.$cyan-color};
  --global-footer-bg-color: #{v.$grey-color-light};
  --global-footer-text-color: #{v.$grey-color-dark};
  --global-footer-link-color: #{v.$black-color};
  --global-distill-app-color: #{v.$grey-color-light};
  --global-divider-color: #424246;
  --global-card-bg-color: #{v.$grey-900};
}

// View Transition: circular expand animation for theme switching
:root {
  --theme-toggle-x: 50vw;
  --theme-toggle-y: 0;
  --theme-toggle-radius: 100vmax;
}

html.theme-transitioning::view-transition-old(root) {
  animation: none;
  z-index: 1;
}

html.theme-transitioning::view-transition-new(root) {
  animation: theme-circle-expand 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  z-index: 9999;
}

@keyframes theme-circle-expand {
  from {
    clip-path: circle(0 at var(--theme-toggle-x) var(--theme-toggle-y));
  }
  to {
    clip-path: circle(var(--theme-toggle-radius) at var(--theme-toggle-x) var(--theme-toggle-y));
  }
}
